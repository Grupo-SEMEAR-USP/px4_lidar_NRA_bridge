<launch>

  <!-- launch do sdk do lidar mid360 -->
  <include file="$(find livox_ros_driver2)/launch_ROS1/msg_MID360.launch"/>
  <!-- launch do odometria mid360 -->
  <include file="$(find fast_lio)/launch/mapping_mid360.launch">
      <arg name="rviz" value="false"/>
  </include>


  <node pkg="tf" type="static_transform_publisher" name="tf_baseLink_cameraPose"
        args="0 0 0 0 0 0 base_link camera_pose_frame 1000"/>

  <!-- Launch static transform publishers -->
  <node pkg="tf" type="static_transform_publisher" name="tf_odom_cameraOdom"
        args="0 0 0 0 0 0 odom camera_odom_frame 1000"/>

  <!-- Throttle odometry messages to a fixed rate around 25Hz -->
  <node name="odom_throttler" type="drop" pkg="topic_tools" 
    args="/Odometry 7 8 /Odometry/sample_throttled" >
  </node>



  <env name="ROSCONSOLE_CONFIG_FILE" value="$(find px4_lidar_NRA_bridge)/resource/custom_rosconsole.conf"/>

  <arg name="input_topic" default="[/Odometry/sample_throttled]"/>

  <!-- Bridge node -->
  <node name="px4_lidar_NRA_bridge_node" pkg="px4_lidar_NRA_bridge" type="px4_lidar_NRA_bridge_node" output="screen" >
    <rosparam param="input_topic" subst_value="True">$(arg input_topic)</rosparam>
  </node>

</launch>
